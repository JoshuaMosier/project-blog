@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Outfit:wght@500;600;700&family=Fira+Code:wght@400;500&display=swap');
@import 'prismjs/themes/prism-tomorrow.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties for theming */
:root {
  --color-bg-primary: #0f1419;
  --color-bg-secondary: #1a1f2e;
  --color-bg-tertiary: #242b3d;
  --color-accent-primary: #a78bfa;
  --color-accent-secondary: #14b8a6;
  --color-accent-tertiary: #c4b5fd;
  --color-text-primary: #e2e8f0;
  --color-text-secondary: #94a3b8;
  --color-text-muted: #64748b;
  --color-border: #2d3748;
}

@layer base {
  /* Force scrollbar to be always visible */
  html {
    overflow-y: scroll;
    scroll-behavior: smooth;
  }

  /* Base typography styles */
  body {
    font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
    background-color: var(--color-bg-primary);
    position: relative;
  }

  /* Subtle grid background pattern */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
      linear-gradient(rgba(45, 55, 72, 0.3) 1px, transparent 1px),
      linear-gradient(90deg, rgba(45, 55, 72, 0.3) 1px, transparent 1px);
    background-size: 60px 60px;
    pointer-events: none;
    z-index: -1;
  }

  /* Gradient overlay for depth */
  body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      radial-gradient(ellipse at top left, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
      radial-gradient(ellipse at bottom right, rgba(20, 184, 166, 0.06) 0%, transparent 50%);
    pointer-events: none;
    z-index: -1;
  }

  code {
    font-family: 'Fira Code', monospace;
    font-size: 0.9em;
  }

  /* Heading styles */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Outfit', system-ui, sans-serif;
    letter-spacing: -0.02em;
  }
}

@layer components {

  /* Prose / Markdown Styles */
  .prose {
    color: var(--color-text-primary);
    font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
  }

  .prose h1 {
    @apply text-4xl md:text-5xl font-bold mb-8;
    font-family: 'Outfit', system-ui, sans-serif;
    color: var(--color-accent-primary);
    letter-spacing: -0.02em;
  }

  .prose h2 {
    @apply text-2xl md:text-3xl font-semibold mt-12 mb-6 pb-2;
    font-family: 'Outfit', system-ui, sans-serif;
    color: #c4b5fd;
    border-bottom: 1px solid var(--color-border);
    letter-spacing: -0.01em;
  }

  .prose h3 {
    @apply text-xl md:text-2xl font-medium mt-8 mb-4;
    font-family: 'Outfit', system-ui, sans-serif;
    color: var(--color-accent-secondary);
  }
  
  .prose h4 {
    font-family: 'Outfit', system-ui, sans-serif;
    font-weight: 700;
    color: var(--color-text-primary);
  }

  /* Consistent text color across elements */
  .prose p,
  .prose ul,
  .prose ol,
  .prose li,
  .prose blockquote,
  .prose strong,
  .prose em {
    color: var(--color-text-primary);
  }

  /* Links */
  .prose a {
    @apply relative no-underline;
    color: var(--color-accent-secondary);
    transition: color 0.2s ease;
  }

  .prose a:hover {
    color: #2dd4bf;
  }

  /* Smooth underline animation */
  .prose a::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 1px;
    bottom: -2px;
    left: 0;
    background: linear-gradient(90deg, var(--color-accent-secondary), var(--color-accent-tertiary));
    transform: scaleX(0);
    transform-origin: bottom right;
    transition: transform 0.3s ease;
  }

  .prose a:hover::after {
    transform: scaleX(1);
    transform-origin: bottom left;
  }

  /* First paragraph */
  .prose > p:first-of-type {
    @apply text-lg leading-relaxed;
    color: var(--color-text-secondary);
  }

  /* Code blocks */
  .prose code {
    font-family: 'Fira Code', monospace;
    font-size: 0.9em;
  }

  .prose pre {
    @apply rounded-lg shadow-lg my-6 transition-all duration-200 ease-out;
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    position: relative;
  }

  .prose pre:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
    border-color: var(--color-accent-tertiary);
  }

  /* Blockquotes */
  .prose blockquote {
    @apply p-4 rounded-r-lg;
    background: var(--color-bg-secondary);
    border-left: 4px solid var(--color-accent-primary);
  }

  .active {
    @apply text-violet-400;
  }

  /* Images */
  .prose img {
    @apply rounded-lg shadow-lg;
  }

  .prose img:not(.no-lightbox) {
    @apply mx-auto block w-[600px] max-w-full;
  }

  /* Lightbox specific */
  .lightbox-image {
    width: auto !important;
    max-width: none !important;
  }

  /* Staggered animation utility classes */
  .animate-fade-in-up {
    animation: fadeInUp 0.5s ease-out forwards;
    opacity: 0;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Stagger delays */
  .stagger-1 { animation-delay: 0.1s; }
  .stagger-2 { animation-delay: 0.2s; }
  .stagger-3 { animation-delay: 0.3s; }
  .stagger-4 { animation-delay: 0.4s; }
  .stagger-5 { animation-delay: 0.5s; }
  .stagger-6 { animation-delay: 0.6s; }
}
